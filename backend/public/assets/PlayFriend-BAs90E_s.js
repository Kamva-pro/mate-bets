import{r,u as W,a as R,b as N,c as V,j as t,s as w,d as L,e as q,g as _,B as H,f as U,m as Y,h as C,i as P,k as b,l as J,S as K,n as Q,A as X,C as Z,o as ee,T as G,p as te,F as ae,q as se,t as S,v as k,w as $,x as oe,y as D,z as re,D as ne}from"./index-SXWiL3-u.js";import{N as ie}from"./Header-QdGiF1pO.js";import{l as z,a as A}from"./listItemTextClasses-D4BpzOB8.js";/* empty css               */const le=(e,a)=>{const{ownerState:n}=e;return[a.root,n.dense&&a.dense,n.divider&&a.divider,!n.disableGutters&&a.gutters]},ce=e=>{const{disabled:a,dense:n,divider:o,disableGutters:m,selected:c,classes:d}=e,p=q({root:["root",n&&"dense",a&&"disabled",!m&&"gutters",o&&"divider",c&&"selected"]},_,d);return{...d,...p}},de=w(H,{shouldForwardProp:e=>U(e)||e==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:le})(Y(({theme:e})=>({...e.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${b.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:C(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${b.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${b.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:C(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${b.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${b.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${P.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${P.inset}`]:{marginLeft:52},[`& .${A.root}`]:{marginTop:0,marginBottom:0},[`& .${A.inset}`]:{paddingLeft:36},[`& .${z.root}`]:{minWidth:36},variants:[{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.divider,style:{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:a})=>!a.dense,style:{[e.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:a})=>a.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...e.typography.body2,[`& .${z.root} svg`]:{fontSize:"1.25rem"}}}]}))),I=r.forwardRef(function(a,n){const o=W({props:a,name:"MuiMenuItem"}),{autoFocus:m=!1,component:c="li",dense:d=!1,divider:x=!1,disableGutters:p=!1,focusVisibleClassName:y,role:M="menuitem",tabIndex:h,className:i,...B}=o,u=r.useContext(R),l=r.useMemo(()=>({dense:d||u.dense||!1,disableGutters:p}),[u.dense,d,p]),v=r.useRef(null);N(()=>{m&&v.current&&v.current.focus()},[m]);const j={...o,dense:l.dense,divider:x,disableGutters:p},g=ce(o),F=V(v,n);let s;return o.disabled||(s=h!==void 0?h:-1),t.jsx(R.Provider,{value:l,children:t.jsx(de,{ref:F,role:M,tabIndex:s,component:c,focusVisibleClassName:L(g.focusVisible,y),className:L(g.root,i),...B,ownerState:j,classes:g})})});function pe(e){const{mode:a,setMode:n}=J();return a?t.jsxs(K,{value:a,onChange:o=>n(o.target.value),SelectDisplayProps:{"data-screenshot":"toggle-mode"},...e,children:[t.jsx(I,{value:"system",children:"System"}),t.jsx(I,{value:"light",children:"Light"}),t.jsx(I,{value:"dark",children:"Dark"})]}):null}const ue=w(ne)(({theme:e})=>({display:"flex",flexDirection:"column",alignSelf:"center",width:"100%",padding:e.spacing(3),gap:e.spacing(1.5),margin:"auto",maxWidth:"100%",[e.breakpoints.up("sm")]:{maxWidth:"450px",padding:e.spacing(4),gap:e.spacing(2)},boxShadow:"hsla(220, 30%, 5%, 0.05) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.05) 0px 15px 35px -5px",...e.applyStyles("dark",{boxShadow:"hsla(220, 30%, 5%, 0.5) 0px 5px 15px 0px, hsla(220, 25%, 10%, 0.08) 0px 15px 35px -5px"})})),me=w(re)(({theme:e})=>({height:"calc((1 - var(--template-frame-height, 0)) * 100dvh)",height:"100%",marginTop:"100px",padding:e.spacing(2),[e.breakpoints.up("sm")]:{padding:e.spacing(4)},"&::before":{content:'""',display:"block",position:"absolute",zIndex:-1,inset:0}}));function xe(e){const[a,n]=r.useState(""),[o,m]=r.useState(""),[c,d]=r.useState(""),[x,p]=r.useState(""),[y,M]=r.useState(""),[h,i]=r.useState(""),[B,u]=r.useState(""),[l,v]=r.useState(!1),{userToken:j,currentUser:g}=Q(),F=async s=>{if(s.preventDefault(),!j){i("You must be logged in to place a bet."),u("error");return}if(!l&&!c||!a||!o||!x){i("Please fill out all fields."),u("error");return}const E=g?g.uid:localStorage.getItem("userId");try{let f;const O={Authorization:`Bearer ${j}`},T={gameFormat:a,gameSeries:o,stake:x,userId:E};l?f=await D.post("/api/find-match",T,{headers:O}):f=await D.post("/api/place-bet",{...T,opponentLichess:c},{headers:O}),f.status===200&&(i("Successfully placed bet"),u("success"),setTimeout(()=>{i("")},3e3))}catch(f){i("Something went wrong: "+f.message),u("error"),setTimeout(()=>{i("")},3e3)}finally{}};return t.jsxs(X,{...e,children:[t.jsx(Z,{enableColorScheme:!0}),t.jsxs(me,{children:[t.jsx(pe,{sx:{position:"fixed",top:"1rem",right:"1rem"}}),h&&t.jsx(ee,{variant:"outlined",severity:B,style:{marginBottom:"20px"},children:h}),t.jsxs(ue,{variant:"outlined",children:[t.jsx(G,{component:"h1",variant:"h4",sx:{fontSize:"clamp(1.5rem, 5vw, 2rem)",textAlign:"start"},children:"Place Your Bet!"}),t.jsxs(te,{component:"form",onSubmit:F,noValidate:!0,sx:{display:"grid",gridTemplateColumns:"1fr",gap:2,maxHeight:"80vh",overflowY:"auto",paddingRight:"10px","&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none"},children:[t.jsx(ae,{control:t.jsx(se,{checked:l,onChange:s=>v(s.target.checked),color:"primary"}),label:"Random Match",sx:{alignSelf:"start",mb:2}}),!l&&t.jsxs(S,{children:[t.jsx(k,{htmlFor:"opponentLichess",children:"Opponent's Lichess Username"}),t.jsx($,{id:"opponentLichess",type:"text",name:"opponentLichess",value:c,onChange:s=>d(s.target.value),placeholder:"Enter opponent's Lichess username",required:!l,fullWidth:!0,variant:"outlined",color:"primary"})]}),t.jsxs(S,{children:[t.jsx(k,{htmlFor:"gameFormat",children:"Game Format"}),t.jsxs($,{id:"gameFormat",select:!0,value:a,onChange:s=>n(s.target.value),SelectProps:{native:!0},required:!0,fullWidth:!0,variant:"outlined",children:[t.jsx("option",{value:"",disabled:!0,children:"Select a format"}),t.jsx("option",{value:"blitz",children:"Blitz"}),t.jsx("option",{value:"rapid",children:"Rapid"}),t.jsx("option",{value:"bullet",children:"Bullet"})]})]}),t.jsxs(S,{children:[t.jsx(k,{htmlFor:"gameseries",children:"Game Series"}),t.jsxs($,{id:"gameseries",select:!0,value:o,onChange:s=>m(s.target.value),SelectProps:{native:!0},required:!0,fullWidth:!0,variant:"outlined",children:[t.jsx("option",{value:"",disabled:!0,children:"Game Series"}),t.jsx("option",{value:"one_game",children:"One Game"}),t.jsx("option",{value:"best_of_three",children:"Best of Three"}),t.jsx("option",{value:"best_of_five",children:"Best of Five"})]})]}),t.jsxs(S,{children:[t.jsx(k,{htmlFor:"stake",children:"Stake"}),t.jsx($,{id:"stake",type:"number",value:x,onChange:s=>p(s.target.value),placeholder:"Enter the stake amount",required:!0,fullWidth:!0,variant:"outlined",inputProps:{min:0,step:.01}})]}),y&&t.jsx(G,{sx:{color:"red"},children:y}),t.jsx(oe,{type:"submit",fullWidth:!0,variant:"contained",children:"Place Bet"})]})]})]})]})}const be=()=>(document.getElementById("#playfriend"),t.jsxs("div",{children:[t.jsx(ie,{}),t.jsx(xe,{})]}));export{be as default};
